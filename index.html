<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>TÃ³mbola de NumerologÃ­a</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #2e003e, #6a0dad, #000000);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    header {
      padding: 20px;
      background: rgba(0,0,0,0.6);
    }
    h1 {
      font-size: 2.2em;
      color: #ffd700;
      text-shadow: 2px 2px 5px #000;
    }
    .tombola {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      margin: 40px auto;
      max-width: 500px;
    }
    .circle {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: #ffd700;
      color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.5em;
      font-weight: bold;
      margin: 10px;
      box-shadow: 0 0 10px #000;
    }
    .contacto {
      margin: 30px auto;
      padding: 20px;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      width: 80%;
      max-width: 600px;
    }
    a.whatsapp {
      display: inline-block;
      margin-top: 15px;
      padding: 10px 20px;
      background: #25D366;
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
    }
    a.whatsapp:hover {
      background: #128C7E;
    }
    .mensaje {
      margin-top: 30px;
      font-size: 1.2em;
      color: #00ffff;
      text-shadow: 1px 1px 3px #000;
    }
  </style>
</head>
<body>
  <header>
    <h1>âœ¨ TÃ³mbola de NumerologÃ­a âœ¨</h1>
    <p>Los nÃºmeros con mayor energÃ­a para ti</p>
  </header>

  <section class="tombola" id="tombola">
    <!-- AquÃ­ se insertan los cÃ­rculos -->
  </section>

  <section class="contacto">
    <h2>Ãšnete a nuestra comunidad</h2>
    <p>Haz clic para acceder al grupo de WhatsApp:</p>
    <a class="whatsapp" href="https://chat.whatsapp.com/BzdiMOPKC9TJLwk1QPDbBx" target="_blank">
      ðŸ‘‰ Grupo de WhatsApp
    </a>
  </section>

  <div class="mensaje">
    ðŸŒŸ Que la suerte, la energÃ­a positiva y la abundancia te acompaÃ±en siempre ðŸŒŸ
  </div>

  <script>
    // Sorteos Costa Rica (ejemplo Ãºltimos 5 dÃ­as)
    const sorteosCR = [
      [45,95,54,9,33,51],
      [88,74],
      [48,97,75,50,72,97],
      [26,3,32,89,55,91],
      [97,72,26,72,10,52]
    ];

    // Sorteos Nicaragua (Loto Diaria Ãºltimos 5 dÃ­as)
    const sorteosNI = [
      [18,72,64,78],   // 17 enero
      [93,37,56,46],   // 16 enero
      [95,95,53,49],   // 15 enero
      [67,89,62,95],   // 14 enero
      [41,85,74,99]    // 13 enero
    ];

    // Unir ambos
    const sorteos = sorteosCR.concat(sorteosNI);

    // Reglas de equivalencia
    const equivalencias = {
      "0": ["0","1","6"],
      "1": ["0","1","6"],
      "6": ["0","1","6","4","9"],
      "2": ["2","5","7"],
      "5": ["2","5","7"],
      "7": ["2","5","7"],
      "3": ["3","8"],
      "8": ["3","8"],
      "4": ["4","6","9"],
      "9": ["4","6","9"]
    };

    // Generar combinaciones equivalentes para un nÃºmero
    function generarCombinaciones(num) {
      let digitos = String(num).split("");
      if (digitos.length !== 2) return [];
      let grupo1 = equivalencias[digitos[0]] || [digitos[0]];
      let grupo2 = equivalencias[digitos[1]] || [digitos[1]];
      let combinaciones = [];
      grupo1.forEach(d1 => grupo2.forEach(d2 => combinaciones.push(d1+d2)));
      return combinaciones;
    }

    // Analizar todos los sorteos
    function analizar() {
      let conteo = {};
      sorteos.flat().forEach(num => {
        generarCombinaciones(num).forEach(combo => {
          conteo[combo] = (conteo[combo] || 0) + 1;
        });
      });

      // Top 30 mÃ¡s fuertes
      let fuertes = Object.entries(conteo)
        .sort((a,b) => b[1]-a[1])
        .slice(0,30)
        .map(x => parseInt(x[0]));

      // Seleccionar 5 aleatorios
      let seleccionados = [];
      let copia = [...fuertes];
      while(seleccionados.length<5 && copia.length>0){
        let idx = Math.floor(Math.random()*copia.length);
        seleccionados.push(copia.splice(idx,1)[0]);
      }

      // Mostrar en la tÃ³mbola
      let tombola = document.getElementById("tombola");
      tombola.innerHTML = "";
      for(let i=0;i<6;i++){
        let div=document.createElement("div");
        div.className="circle";
        div.textContent=seleccionados[i]||"";
        tombola.appendChild(div);
      }
    }

    analizar();
  </script>
</body>
</html>
